---
import LayoutMaster from '../layouts/LayoutMaster.astro';
import siteData from '../data.json';
const { catalogo } = siteData;
---

<LayoutMaster>
  
  <header class="relative pt-40 pb-20 flex flex-col items-center justify-center text-center border-b border-white/5 overflow-hidden">
    <div class="absolute inset-0 z-0 bg-black">
      <img src={catalogo.sfondo_header} alt="Sfondo Menu" class="w-full h-full object-cover opacity-20 blur-[1px]" />
      <div class="absolute inset-0 bg-gradient-to-t from-[var(--colorSfondo)] via-[var(--colorSfondo)]/60 to-transparent"></div>
    </div>
    <div class="relative z-10 px-4 reveal">
      <h1 class="text-4xl md:text-6xl font-bold text-[var(--colorNocciola)] mb-4 tracking-widest font-elegante uppercase drop-shadow-xl">
        {catalogo.titolo_pagina}
      </h1>
      <div class="w-16 h-px bg-[var(--colorRosso)] mx-auto mb-6"></div>
      <p class="text-gray-300 text-xs md:text-sm font-light tracking-widest uppercase max-w-xl leading-relaxed">
        {catalogo.sottotitolo_pagina}
      </p>
    </div>
  </header>

  <section class="py-16 bg-[var(--colorSfondo)] min-h-screen relative">
    <div class="max-w-4xl mx-auto px-4 lg:px-8 pb-32">

      {catalogo.categorie.map((categoria) => (
        <div class="mb-16 reveal">
          <h2 class="text-2xl text-[var(--colorNocciola)] font-elegante uppercase tracking-widest border-b border-white/10 pb-4 mb-8">
            {categoria.nome_categoria}
          </h2>
          
          <div class="flex flex-col gap-6">
            {categoria.elementi.map((item) => (
              <div class="flex justify-between items-center border-b border-white/5 pb-4">
                <div class="pr-4">
                  <h3 class="text-white font-bold tracking-wider uppercase text-sm">{item.titolo}</h3>
                  <p class="text-gray-500 text-xs mt-1 font-light">{item.descrizione}</p>
                </div>
                <span class="text-[var(--colorNocciola)] font-bold">{item.prezzo}</span>
              </div>
            ))}
          </div>
        </div>
      ))}

    </div>
  </section>

  {catalogo.barra_software_esterno.attiva && (
    <div class="fixed bottom-0 left-0 w-full bg-[var(--colorCard)] border-t border-[var(--colorNocciola)] z-50 shadow-[0_-10px_40px_rgba(0,0,0,0.8)] p-4">
      <div class="max-w-4xl mx-auto flex flex-col md:flex-row justify-between items-center gap-4">
        
        <div class="text-center md:text-left">
          <p class="text-white text-sm font-bold tracking-widest uppercase">{catalogo.barra_software_esterno.testo_domanda}</p>
          <p class="text-gray-400 text-xs">{catalogo.barra_software_esterno.testo_sottotitolo}</p>
        </div>

        <a href={catalogo.barra_software_esterno.link_software} target="_blank" class="w-full md:w-auto text-center inline-block bg-[var(--colorNocciola)] text-black px-8 py-4 font-bold tracking-widest uppercase text-xs hover:bg-white transition-colors shadow-lg animate-pulse">
          {catalogo.barra_software_esterno.testo_bottone}
        </a>
        
      </div>
    </div>
  )}

</LayoutMaster>