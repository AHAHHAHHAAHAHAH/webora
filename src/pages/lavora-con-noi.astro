---
import LayoutMaster from '../layouts/LayoutMaster.astro';
import siteData from '../data.json';
const { lavora_con_noi, integrazioni_esterne_API } = siteData;
---

<LayoutMaster>
  
  <header class="pt-40 pb-20 flex flex-col items-center text-center bg-[var(--card)] border-b border-[var(--text-main)]/5">
    <div class="px-6 reveal max-w-3xl">
      <h1 class="text-4xl md:text-6xl font-bold text-[var(--text-main)] mb-6 font-serif-luxury">{lavora_con_noi.titolo_pagina}</h1>
      <p class="text-[var(--text-muted)] text-base md:text-lg font-light leading-relaxed">{lavora_con_noi.sottotitolo_pagina}</p>
    </div>
  </header>

  <section class="py-20 bg-[var(--bg)] min-h-screen">
    <div class="max-w-3xl mx-auto px-6 lg:px-8 reveal">
      <div class="bg-[var(--card)] p-8 md:p-12 rounded-3xl shadow-lg border border-[var(--text-main)]/5">
        
        <form action={`https://formsubmit.co/${integrazioni_esterne_API.email_ricezione_form}`} method="POST" enctype="multipart/form-data" class="flex flex-col gap-6">
          <input type="hidden" name="_subject" value="Nuova Candidatura dal Sito Web">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_next" value={siteData.impostazioni_sito.dominio_sito}>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div class="flex flex-col gap-2">
              <label class="text-[var(--text-main)] text-sm font-semibold">Nome e Cognome</label>
              <input type="text" name="Nome" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-4 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all">
            </div>
            <div class="flex flex-col gap-2">
              <label class="text-[var(--text-main)] text-sm font-semibold">Email</label>
              <input type="email" name="Email" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-4 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all">
            </div>
          </div>

          <div class="flex flex-col gap-2">
            <label class="text-[var(--text-main)] text-sm font-semibold">Posizione di Interesse</label>
            <select name="Ruolo" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-4 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all cursor-pointer">
              <option value="" disabled selected>Seleziona un ruolo</option>
              {lavora_con_noi.posizioni_aperte.map((ruolo) => (
                <option value={ruolo}>{ruolo}</option>
              ))}
            </select>
          </div>

          <div class="flex flex-col gap-2">
            <label class="text-[var(--text-main)] text-sm font-semibold">Breve Presentazione</label>
            <textarea name="Messaggio" rows="4" required placeholder="Raccontaci brevemente di te e perchÃ© vorresti lavorare con noi..." class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-4 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all resize-none"></textarea>
          </div>

          <div class="flex flex-col gap-2">
            <label class="text-[var(--text-main)] text-sm font-semibold">Allega il tuo Curriculum (PDF, DOCX)</label>
            <input type="file" name="attachment" accept=".pdf, .doc, .docx" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-3 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all cursor-pointer 
            file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-xs file:font-bold file:uppercase file:tracking-widest file:bg-[var(--primary)] file:text-black hover:file:bg-white file:transition-colors file:cursor-pointer">
          </div>

          <button type="submit" class="mt-4 btn-primary w-full text-lg">Invia Candidatura</button>
        </form>

      </div>
    </div>
  </section>

</LayoutMaster>