---
import LayoutMaster from '../layouts/LayoutMaster.astro';
import siteData from '../data.json';
const { lavora_con_noi, integrazioni_esterne_API } = siteData;
---

<LayoutMaster>
  
  <header class="pt-32 pb-16 flex flex-col items-center text-center bg-[var(--card)] border-b border-[var(--text-main)]/5">
    <div class="px-6 reveal max-w-3xl">
      <h1 class="text-3xl md:text-5xl font-bold text-[var(--text-main)] mb-4 font-serif-luxury">{lavora_con_noi.titolo_pagina}</h1>
      <p class="text-[var(--text-muted)] text-sm md:text-base font-light leading-relaxed">{lavora_con_noi.sottotitolo_pagina}</p>
    </div>
  </header>

  <section class="py-16 bg-[var(--bg)] min-h-screen">
    <div class="max-w-3xl mx-auto px-6 lg:px-8 reveal">
      <div class="bg-[var(--card)] p-6 md:p-10 rounded-3xl shadow-lg border border-[var(--text-main)]/5">
        
        <form action={`https://formsubmit.co/${integrazioni_esterne_API.email_ricezione_form}`} method="POST" enctype="multipart/form-data" class="flex flex-col gap-5">
          <input type="hidden" name="_subject" value="Nuova Candidatura">
          <input type="hidden" name="_captcha" value="false">
          <input type="hidden" name="_next" value={siteData.impostazioni_sito.dominio_sito}>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
            <div class="flex flex-col gap-1.5">
              <label class="text-[var(--text-main)] text-xs font-semibold uppercase tracking-wider">Nome e Cognome</label>
              <input type="text" name="Nome" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-3.5 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all text-sm">
            </div>
            <div class="flex flex-col gap-1.5">
              <label class="text-[var(--text-main)] text-xs font-semibold uppercase tracking-wider">Email</label>
              <input type="email" name="Email" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-3.5 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all text-sm">
            </div>
          </div>

          <div class="flex flex-col gap-1.5">
            <label class="text-[var(--text-main)] text-xs font-semibold uppercase tracking-wider">Posizione di Interesse</label>
            <select name="Ruolo" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-3.5 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all cursor-pointer text-sm">
              <option value="" disabled selected>Seleziona un ruolo</option>
              {lavora_con_noi.posizioni_aperte.map((ruolo) => (
                <option value={ruolo}>{ruolo}</option>
              ))}
            </select>
          </div>

          <div class="flex flex-col gap-1.5">
            <label class="text-[var(--text-main)] text-xs font-semibold uppercase tracking-wider">Breve Presentazione</label>
            <textarea name="Messaggio" rows="4" required placeholder="Raccontaci brevemente di te..." class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-3.5 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all resize-none text-sm"></textarea>
          </div>

          <div class="flex flex-col gap-1.5">
            <label class="text-[var(--text-main)] text-xs font-semibold uppercase tracking-wider">Allega il tuo Curriculum (PDF)</label>
            <input type="file" name="attachment" accept=".pdf, .doc, .docx" required class="bg-[var(--bg)] border border-[var(--text-main)]/10 text-[var(--text-main)] p-2.5 rounded-xl focus:ring-2 focus:ring-[var(--primary)] outline-none transition-all cursor-pointer 
            file:mr-3 file:py-1.5 file:px-3 file:rounded-md file:border-0 file:text-[10px] file:font-bold file:uppercase file:tracking-widest file:bg-[var(--primary)] file:text-black hover:file:bg-white file:transition-colors file:cursor-pointer text-sm">
          </div>

          <button type="submit" class="mt-2 btn-primary w-full">Invia Candidatura</button>
        </form>

      </div>
    </div>
  </section>

</LayoutMaster>